<div>
  <form [formGroup]="nomadForm" (ngSubmit)="onSubmit()">
    <mat-form-field>
      <mat-select formControlName="regionSelect" required placeholder="Region">
        <mat-option *ngFor="let region of regions" [value]="region">
          {{ region.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field *ngIf="nomadJobs$ | async as nomadJobs">
      <mat-select formControlName="jobSelect" required placeholder="Jobs">
        <mat-option *ngFor="let job of nomadJobs" [value]="job">
          {{ job.ID }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field *ngFor="let metadata of nomadMetadata$ | async" class="example-full-width">
      <input matInput [placeholder]="metadata.key" [formControlName]="metadata.key">
    </mat-form-field>

    <button [disabled]=nomadForm.invalid type="submit">Submit</button>
  </form>
</div>
